<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pi Finder - 파이 외우기 & 찾기</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 헤더 -->
    <header>
        <button class="menu-toggle" id="menuToggle">☰</button>
        <h1>Pi Finder</h1>
    </header>

    <!-- 사이드 메뉴 -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2>메뉴</h2>
            <button class="close-btn" id="closeMenu">×</button>
        </div>
        <div class="sidebar-user">
            <div class="user-greeting">
                <span>안녕하세요 </span>
                <span id="userNameDisplay"></span>
                <button class="edit-name-btn" id="editNameBtn" title="이름 변경">✏️</button>
            </div>
            <div class="edit-name-panel hidden" id="editNamePanel">
                <input type="text" id="userNameInput" placeholder="이름 입력">
                <button id="saveNameBtn">저장</button>
                <button id="randomNameBtn">랜덤 생성</button>
            </div>
        </div>
        <nav class="sidebar-nav">
            <a href="https://www.youtube.com/watch?v=KcRJgoW10FE" target="_blank" class="menu-link">나 요즘 파이 됐대</a>
            <a href="https://github.com/keewon/pi_finder" target="_blank" class="menu-link">문의</a>
        </nav>
    </aside>

    <!-- 오버레이 -->
    <div class="overlay" id="overlay"></div>

    <!-- 메인 컨텐츠 -->
    <main>
        <!-- 탭 네비게이션 -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="memorize">파이 외우기</button>
            <button class="tab-btn" data-tab="search">파이 찾기</button>
        </div>

        <!-- 파이 외우기 탭 -->
        <div class="tab-content active" id="memorizeTab">
            <div class="options-panel">
                <div class="option-group">
                    <label>시작 위치:</label>
                    <select id="startOption">
                        <option value="decimal" selected>소숫점 이하부터</option>
                        <option value="three">3. 부터</option>
                    </select>
                </div>
                <div class="option-group">
                    <label>모드:</label>
                    <select id="modeOption">
                        <option value="multiple3">객관식 (3자리씩)</option>
                        <option value="multiple4" selected>객관식 (4자리씩)</option>
                        <option value="keypad">키패드 입력</option>
                    </select>
                </div>
            </div>

            <!-- 객관식 모드 -->
            <div class="memorize-content" id="multipleChoiceMode">
                <div class="progress-info">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="stats">
                        <span>진행: <span id="currentPosition">0</span> / 1000 자리</span>
                        <span>시간: <span id="elapsedTime">00:00</span></span>
                    </div>
                </div>
                <div class="question-display">
                    <div class="pi-display" id="piDisplay"></div>
                    <div class="question-text" id="questionText"></div>
                </div>
                <div class="choices" id="choices"></div>
                <div class="result-message" id="resultMessage"></div>
            </div>

            <!-- 키패드 모드 -->
            <div class="memorize-content hidden" id="keypadMode">
                <div class="progress-info">
                    <div class="progress-bar">
                        <div class="progress-fill" id="keypadProgressFill"></div>
                    </div>
                    <div class="stats">
                        <span>진행: <span id="keypadCurrentPosition">0</span> / 1000 자리</span>
                        <span>시간: <span id="keypadElapsedTime">00:00</span></span>
                    </div>
                </div>
                <div class="question-display">
                    <div class="pi-display" id="keypadPiDisplay"></div>
                    <div class="input-display" id="inputDisplay"></div>
                </div>
                <div class="keypad" id="keypad">
                    <button class="key-btn" data-key="0">0</button>
                    <button class="key-btn" data-key="1">1</button>
                    <button class="key-btn" data-key="2">2</button>
                    <button class="key-btn" data-key="3">3</button>
                    <button class="key-btn" data-key="4">4</button>
                    <button class="key-btn" data-key="5">5</button>
                    <button class="key-btn" data-key="6">6</button>
                    <button class="key-btn" data-key="7">7</button>
                    <button class="key-btn" data-key="8">8</button>
                    <button class="key-btn" data-key="9">9</button>
                    <button class="key-btn delete" id="deleteBtn">⌫</button>
                </div>
                <div class="result-message" id="keypadResultMessage"></div>
            </div>

            <!-- 기록 저장 -->
            <div class="record-panel" id="recordPanel">
                <h3>기록 저장</h3>
                <input type="text" id="recordName" placeholder="이름 (선택사항)">
                <button id="saveRecordBtn">기록 저장</button>
            </div>

            <!-- 기록 목록 -->
            <div class="records-panel">
                <h3>기록 목록</h3>
                <div id="recordsList"></div>
            </div>
        </div>

        <!-- 파이 찾기 탭 -->
        <div class="tab-content" id="searchTab">
            <div class="search-panel">
                <input type="text" id="searchInput" placeholder="최대 8자리 숫자 입력" maxlength="8" pattern="[0-9]*">
                <button id="searchBtn">찾기</button>
            </div>
            <div class="search-result" id="searchResult"></div>
        </div>
    </main>

    <script src="pi-data.js"></script>
    <script src="app.js"></script>
</body>
</html>

